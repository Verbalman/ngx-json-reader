<div class="ngx-jr-main">
  <header class="ngx-jr-header">
    <ngx-json-reader-button label="Expand All" (actionClick)="expandAll()" />
    <ngx-json-reader-button label="Collapse All" (actionClick)="collapseAll()" />
  </header>

  <section class="ngx-jr-container">
    <div class="ngx-jr-content">
      @if (collection().length > 0) {
        @for (item of collection(); let index = $index; track index;) {
          <div
            #collectionElement
            class="ngx-jr-content-item"
            [attr.data-colection-index]="index"
          >
            <div class="ngx-jr-content-header">
              <div class="ngx-jr-content-header-actions">
                <ngx-json-reader-button label="Download" (actionClick)="download(index)" />
                <ngx-json-reader-button label="Expand" (actionClick)="expandOneCollection(index)" />
                <ngx-json-reader-button label="Collapse" (actionClick)="collapseOneCollection(index)" />
              </div>

              <span class="ngx-jr-content-item-size">Size: {{ getSetSize(index) }}</span>
            </div>
            <ngx-json-reader-node
              [label]="getRootLabel(index)"
              [value]="item"
              [path]="[]"
              [collectionIndex]="index"
              [expanded]="expanded"
              [modified]="modified"
              [editable]="editable"
              (valueChange)="onValueChange($event)"
              (delete)="onDelete($event)"
            />
          </div>
        }
      } @else {
        <span>No data</span>
      }
    </div>
  </section>
</div>
