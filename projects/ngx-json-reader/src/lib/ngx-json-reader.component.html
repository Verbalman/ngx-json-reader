<div class="ngx-jr-main">
  <header class="ngx-jr-header">
    @if (sizeStr(); as sizeStr) {
      <div class="ngx-jr-data-size">{{ sizeStr }}</div>
    }

    <div class="">
      <button type="button" (click)="expandAll()">Expand All</button>
      <button type="button" (click)="collapseAll()">Collapse All</button>
    </div>
  </header>

  <section class="ngx-jr-container">
    <div class="ngx-jr-content">
      @if (collection().length > 0) {
        @for (item of collection(); let index = $index; track index;) {
          <div class="ngx-jr-content-item" [attr.data-colection-index]="index">
            <div class="">
              <button type="button" (click)="download(index)">Download</button>
            </div>
            <ngx-ngx-json-reader-node
              [label]="rootLabel"
              [value]="item"
              [path]="[]"
              [collectionIndex]="index"
              [expanded]="expanded"
              [editable]="editable"
              (valueChange)="onValueChange($event)"
              (delete)="onDelete($event)"
            />
          </div>
        }
      } @else {
        <span>No data</span>
      }
    </div>
  </section>
</div>
